<div class="jumbotron">
  <div class="img-overlay">
    <h1>A Book Review</h1>
    <div class="search-field">
      <%= bootstrap_form_for :search, url: search_books_path, method: :post, class: "input-field" do |f| %>
      <%= text_field_tag :search, nil, placeholder: " Search by title, author, genre..." %>
      <%= submit_tag 'Find Book', class: "btn btn-default"%>
      <% end %>
    </div>
    <p>Find the books you like and read their reviews..</p>
  </div>
</div>

<div class="container all-books">
  <% if @books.present? %>
    <% @books.each do |book| %>
      <div class="each-book">
        <h3><%= link_to highlight(book.title, @search_value), book_path(book) %></h3>
        <p>Author: <%= highlight(book.author, @search_value) %></p>
        <p>Genre: <%= highlight(book.genre, @search_value) %></p>
        <article>
          <%= highlight(excerpt(book.summary.html_safe, @search_value ,radius: 50), @search_value) %>
        </article>
        <p class="date-publish">
          <br>
          Added on <%= book.created_at.strftime("%d %b %y") %>
        </p>
      </div>
      <%#= link_to 'Details', book_path(book)%>
    <% end %>
    <%= paginate @books %>
  <% else %>
    <p>There are no books containing the term(s) <%= params[:search] %>.</p>
  <% end %>
</div>
